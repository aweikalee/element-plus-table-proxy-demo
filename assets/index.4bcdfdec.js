var j=Object.defineProperty,z=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var V=(t,o,n)=>o in t?j(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,w=(t,o)=>{for(var n in o||(o={}))q.call(o,n)&&V(t,n,o[n]);if(M)for(var n of M(o))J.call(o,n)&&V(t,n,o[n]);return t},D=(t,o)=>z(t,P(o));import{w as $,o as O,a as U,d as L,r as C,u as W,c as h,b as R,e as G,f as H,E as Q,g as y,h as E,i as p,j as X,k as Y,l as m,m as Z,n as S,V as ee,p as te,q as T,s as oe,F as I,t as F,v as K,x as B,y as ne,z as re,A as ae,K as le,B as se}from"./vendor.23cfafdb.js";const ue=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))c(a);new MutationObserver(a=>{for(const e of a)if(e.type==="childList")for(const l of e.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const e={};return a.integrity&&(e.integrity=a.integrity),a.referrerpolicy&&(e.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?e.credentials="include":a.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function c(a){if(a.ep)return;a.ep=!0;const e=n(a);fetch(a.href,e)}};ue();let ce=0;function ie(){return new Promise(t=>{setTimeout(()=>{t(Array.from(new Array(20),()=>({id:++ce,order:`O${Math.random().toFixed(20).slice(2,22)}`,price:Number((Math.random()*500).toFixed(2)),amount:Math.floor(Math.random()*100),title:Number(Math.random().toFixed(10).slice(2,10)).toString(32).toUpperCase()})))},500)})}function de(t,o){localStorage.setItem(t,JSON.stringify(o))}function fe(t){try{return JSON.parse(localStorage.getItem(t))}catch{return}}function pe(t){let o=0,n=0;function c(){!t.value||(o=t.value.scrollTop,n=t.value.scrollLeft)}function a(){!t.value||(t.value.scrollTop=o,t.value.scrollLeft=n)}let e=null;function l(){e==null||e.removeEventListener("scroll",c),e=null}function s(){!t.value||e!==t.value&&(l(),e=t.value,e==null||e.addEventListener("scroll",c))}$(t,s),O(s),U(l),O(a)}const me=L({name:"MyTable"}),_e=L(D(w({},me),{setup(t,{expose:o}){var f;function n(r){var u;return((u=r.type)==null?void 0:u.name)==="ElTableColumn"}const c=C(),a=W(),e=h(()=>{var x,b;const r=[],u=[],v=[];return(b=(x=a.default)==null?void 0:x.call(a))==null||b.forEach(_=>{var k;if(n(_)){const{prop:N,fixed:A}=(k=_.props)!=null?k:{};if(N!==void 0)return r.push(_);if(A==="left")return u.push(_)}v.push(_)}),{main:r,left:u,other:v}}),l=C((f=fe("columns"))!=null?f:[]),s=R({storage:h({get(){return l.value},set(r){l.value=r,de("columns",r)}}),slot:h(()=>e.value.main.map(({props:r})=>{var u;return{prop:r.prop,label:r.label,fixed:r.fixed,visiable:(u=r.visiable)!=null?u:!0}})),render:h(()=>{const r=[...s.slot],u=[...s.storage],v=[];return u.forEach(x=>{const b=r.findIndex(({prop:_})=>_===x.prop);if(~b){const _=r[b];v.push(w(w({},_),x)),r.splice(b,1)}}),v.push(...r),v})}),i=h(()=>{const{main:r}=e.value,u=[];return s.render.forEach(({prop:v,visiable:x,fixed:b})=>{if(!x)return;const _=r.find(N=>{var A;return v===((A=N.props)==null?void 0:A.prop)});if(!_)return;const k=G(_,{fixed:b});u.push(k)}),u}),d=C(0);$(i,()=>d.value+=1),o({table:c,columns:h(()=>H(s.render)),updateColumns(r){s.storage=r}});const g=()=>[e.value.left,i.value,e.value.other];return pe(h(()=>{var r;return(r=c.value)==null?void 0:r.$refs.bodyWrapper})),(r,u)=>{const v=Q;return y(),E(v,{ref_key:"table",ref:c},{default:p(()=>[(y(),E(g,{key:d.value}))]),_:1},512)}}}));var ve=(t,o)=>{const n=t.__vccOpts||t;for(const[c,a]of o)n[c]=a;return n};const be=F("\u52A8\u6001\u5217"),he={class:"my-table-toolbar"},ye={class:"my-table-toolbar__item"},ge=F("\u5DE6\u56FA\u5B9A"),xe=F("\u53F3\u56FA\u5B9A"),Fe=L({props:{table:Object},setup(t){const o=t,n=h({get(){var e,l;return(l=(e=o.table)==null?void 0:e.columns)!=null?l:[]},set(e){var l;(l=o.table)==null||l.updateColumns(e)}});function c(e,l){var d;const s=w({},e),i=n.value.slice();s.visiable=!s.visiable,i[l]=s,(d=o.table)==null||d.updateColumns(i)}function a(e,l,s){var f;const i=w({},e),d=n.value.slice(),g=i.fixed;g?g===s?i.fixed=!1:i.fixed=g==="left"?"right":"left":i.fixed=s,d[l]=i,(f=o.table)==null||f.updateColumns(d)}return(e,l)=>{const s=K,i=ne,d=X,g=Y;return y(),E(g,{trigger:"click"},{dropdown:p(()=>[m(d,null,{default:p(()=>[Z("div",he,[m(S(ee),{modelValue:S(n),"onUpdate:modelValue":l[0]||(l[0]=f=>te(n)?n.value=f:null),"item-key":"prop"},{default:p(()=>[(y(!0),T(I,null,oe(S(n),(f,r)=>(y(),T("div",ye,[m(i,{"model-value":f.visiable,onChange:u=>c(f,r)},{default:p(()=>[F(B(f.label),1)]),_:2},1032,["model-value","onChange"]),m(s,{type:f.fixed==="left"?"primary":"default",size:"mini",onClick:u=>a(f,r,"left")},{default:p(()=>[ge]),_:2},1032,["type","onClick"]),m(s,{type:f.fixed==="right"?"primary":"default",size:"mini",onClick:u=>a(f,r,"right")},{default:p(()=>[xe]),_:2},1032,["type","onClick"])]))),256))]),_:1},8,["modelValue"])])]),_:1})]),default:p(()=>[m(s,{type:"primary"},{default:p(()=>[be]),_:1})]),_:1})}}});var we=ve(Fe,[["__scopeId","data-v-7dab79fa"]]);const Ce=F("\u663E\u9690\uFF08KeepAlive\uFF09");var Ee=L({setup(t){const o=C(),n=C(!0),c=C([]);async function a(){c.value=await ie()}return a(),(e,l)=>{const s=re,i=K;return y(),T(I,null,[(y(),E(le,null,[n.value?(y(),E(_e,{key:0,data:c.value,ref_key:"table",ref:o,"max-height":"400",style:{maxWidth:"500px"}},{default:p(()=>[m(s,{prop:"id",label:"ID","min-width":"50"}),m(s,{prop:"order",label:"\u8BA2\u5355\u53F7","min-width":"200"}),m(s,{prop:"price",label:"\u4EF7\u683C","min-width":"100"},{default:p(({row:d})=>[F("\uFFE5"+B(d.price),1)]),_:1}),m(s,{prop:"amount",label:"\u603B\u8BA1","min-width":"100"},{default:p(({row:d})=>[F(B(d.amount)+"\u4EF6",1)]),_:1}),m(s,{prop:"title",label:"\u6807\u9898","min-width":"100"})]),_:1},8,["data"])):ae("",!0)],1024)),m(we,{table:o.value},null,8,["table"]),m(i,{onClick:l[0]||(l[0]=d=>n.value=!n.value)},{default:p(()=>[Ce]),_:1})],64)}}});const ke=se(Ee);ke.mount("#app");

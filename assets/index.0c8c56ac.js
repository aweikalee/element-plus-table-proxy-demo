var j=Object.defineProperty,z=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var V=(t,o,n)=>o in t?j(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,w=(t,o)=>{for(var n in o||(o={}))q.call(o,n)&&V(t,n,o[n]);if(M)for(var n of M(o))J.call(o,n)&&V(t,n,o[n]);return t},D=(t,o)=>z(t,P(o));import{w as $,o as O,a as U,d as A,r as C,u as W,c as g,b as R,e as x,f as L,g as m,h as p,E as G,i as H,j as Q,k as X,l as Y,m as Z,n as S,V as ee,p as te,q as T,s as oe,F as I,t as F,v as K,x as B,y as ne,z as re,A as ae,K as le,B as se}from"./vendor.336798bd.js";const ue=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const e of a)if(e.type==="childList")for(const l of e.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const e={};return a.integrity&&(e.integrity=a.integrity),a.referrerpolicy&&(e.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?e.credentials="include":a.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function i(a){if(a.ep)return;a.ep=!0;const e=n(a);fetch(a.href,e)}};ue();let ce=0;function ie(){return new Promise(t=>{setTimeout(()=>{t(Array.from(new Array(20),()=>({id:++ce,order:`O${Math.random().toFixed(20).slice(2,22)}`,price:Number((Math.random()*500).toFixed(2)),amount:Math.floor(Math.random()*100),title:Number(Math.random().toFixed(10).slice(2,10)).toString(32).toUpperCase()})))},500)})}function de(t,o){localStorage.setItem(t,JSON.stringify(o))}function fe(t){try{return JSON.parse(localStorage.getItem(t))}catch{return}}function pe(t){let o=0,n=0;function i(){!t.value||(o=t.value.scrollTop,n=t.value.scrollLeft)}function a(){!t.value||(t.value.scrollTop=o,t.value.scrollLeft=n)}let e=null;function l(){e==null||e.removeEventListener("scroll",i),e=null}function s(){!t.value||e!==t.value&&(l(),e=t.value,e==null||e.addEventListener("scroll",i))}$(t,s),O(s),U(l),O(a)}const me=A({name:"MyTable"});function _e(t,{expose:o}){var f;function n(r){var c;return((c=r.type)==null?void 0:c.name)==="ElTableColumn"}const i=C(),a=W(),e=g(()=>{var b,h;const r=[],c=[],v=[];return(h=(b=a.default)==null?void 0:b.call(a))==null||h.forEach(_=>{var E;if(n(_)){const{prop:N,fixed:k}=(E=_.props)!=null?E:{};if(N!==void 0)return r.push(_);if(k==="left")return c.push(_)}v.push(_)}),{main:r,left:c,other:v}}),l=C((f=fe("columns"))!=null?f:[]),s=R({storage:g({get(){return l.value},set(r){l.value=r,de("columns",r)}}),slot:g(()=>e.value.main.map(({props:r})=>{var c;return{prop:r.prop,label:r.label,fixed:r.fixed,visiable:(c=r.visiable)!=null?c:!0}})),render:g(()=>{const r=[...s.slot],c=[...s.storage],v=[];return c.forEach(b=>{const h=r.findIndex(({prop:_})=>_===b.prop);if(~h){const _=r[h];v.push(w(w({},_),b)),r.splice(h,1)}}),v.push(...r),v})}),d=g(()=>{const{main:r}=e.value,c=[];return s.render.forEach(({prop:v,visiable:b,fixed:h})=>{if(!b)return;const _=r.find(N=>{var k;return v===((k=N.props)==null?void 0:k.prop)});if(!_)return;const E=H(_,{fixed:h});c.push(E)}),c}),u=C(0);$(d,()=>u.value+=1),o({table:i,columns:g(()=>Q(s.render)),updateColumns(r){s.storage=r}});const y=()=>[e.value.left,d.value,e.value.other];return pe(g(()=>{var r;return(r=i.value)==null?void 0:r.$refs.bodyWrapper})),(r,c)=>{const v=G;return x(),L(v,{ref:(b,h)=>{h.table=b,i.value=b}},{default:m(()=>[p(y,{key:u.value})]),_:1},512)}}const ve=A(D(w({},me),{setup:_e}));var be=(t,o)=>{const n=t.__vccOpts||t;for(const[i,a]of o)n[i]=a;return n};const he=F("\u52A8\u6001\u5217"),ye={class:"my-table-toolbar"},ge={class:"my-table-toolbar__item"},xe=F("\u5DE6\u56FA\u5B9A"),Fe=F("\u53F3\u56FA\u5B9A"),we=A({props:{table:Object},setup(t){const o=t,n=g({get(){var e,l;return(l=(e=o.table)==null?void 0:e.columns)!=null?l:[]},set(e){var l;(l=o.table)==null||l.updateColumns(e)}});function i(e,l){var u;const s=w({},e),d=n.value.slice();s.visiable=!s.visiable,d[l]=s,(u=o.table)==null||u.updateColumns(d)}function a(e,l,s){var f;const d=w({},e),u=n.value.slice(),y=d.fixed;y?y===s?d.fixed=!1:d.fixed=y==="left"?"right":"left":d.fixed=s,u[l]=d,(f=o.table)==null||f.updateColumns(u)}return(e,l)=>{const s=K,d=ne,u=X,y=Y;return x(),L(y,{trigger:"click"},{dropdown:m(()=>[p(u,null,{default:m(()=>[Z("div",ye,[p(S(ee),{modelValue:S(n),"onUpdate:modelValue":l[0]||(l[0]=f=>te(n)?n.value=f:null),"item-key":"prop"},{default:m(()=>[(x(!0),T(I,null,oe(S(n),(f,r)=>(x(),T("div",ge,[p(d,{"model-value":f.visiable,onChange:c=>i(f,r)},{default:m(()=>[F(B(f.label),1)]),_:2},1032,["model-value","onChange"]),p(s,{type:f.fixed==="left"?"primary":"default",size:"mini",onClick:c=>a(f,r,"left")},{default:m(()=>[xe]),_:2},1032,["type","onClick"]),p(s,{type:f.fixed==="right"?"primary":"default",size:"mini",onClick:c=>a(f,r,"right")},{default:m(()=>[Fe]),_:2},1032,["type","onClick"])]))),256))]),_:1},8,["modelValue"])])]),_:1})]),default:m(()=>[p(s,{type:"primary"},{default:m(()=>[he]),_:1})]),_:1})}}});var Ce=be(we,[["__scopeId","data-v-7dab79fa"]]);const Ee=F("\u663E\u9690\uFF08KeepAlive\uFF09");var ke=A({setup(t){const o=C(),n=C(!0),i=C([]);async function a(){i.value=await ie()}return a(),(e,l)=>{const s=re,d=K;return x(),T(I,null,[(x(),L(le,null,[n.value?(x(),L(ve,{key:0,data:i.value,ref:(u,y)=>{y.table=u,o.value=u},"max-height":"400",style:{maxWidth:"500px"}},{default:m(()=>[p(s,{prop:"id",label:"ID","min-width":"50"}),p(s,{prop:"order",label:"\u8BA2\u5355\u53F7","min-width":"200"}),p(s,{prop:"price",label:"\u4EF7\u683C","min-width":"100"},{default:m(({row:u})=>[F("\uFFE5"+B(u.price),1)]),_:1}),p(s,{prop:"amount",label:"\u603B\u8BA1","min-width":"100"},{default:m(({row:u})=>[F(B(u.amount)+"\u4EF6",1)]),_:1}),p(s,{prop:"title",label:"\u6807\u9898","min-width":"100"})]),_:1},8,["data"])):ae("",!0)],1024)),p(Ce,{table:o.value},null,8,["table"]),p(d,{onClick:l[0]||(l[0]=u=>n.value=!n.value)},{default:m(()=>[Ee]),_:1})],64)}}});const Ae=se(ke);Ae.mount("#app");
